{
    "name": "BuildRestWebService",
    "title": "Building a REST Web Services in Liberty",
    "description": "Developing JAX-RS services in Java witb the WebSphere Liberty Profile.",
    "duration": "5 minutes",
    "audience": "developer",
    "steps": [
        {
            "name": "Intro",
            "title": "Introduction",
            "description": "This guide walks you through the process of creating a JAX-RS service and deploy it with the WebSphere Liberty Profile.",
            "displayType": "none"
        },
        {
            "name": "CreateSource",
            "title": "Create Java code",
            "description": "Let us create two classes to build the application.",
            "steps": [
                {
                    "name": "CreateFirstResource",
                    "title": "Create the First Resource",
                    "description": [
                        "Create the frst resource GreetingResource.java.",
                        "Change the return value in getMessage to return \"Hello World\"."
                    ],
                    "content": [
                        {
                            "displayType": "fileEditor",
                            "fileName": "GreetingResource.java",
                            "preload": [
                                "package com.ibm.websphere.restexamples;",
                                "import javax.ws.rs.GET;",
                                "import javax.ws.rs.Path;",
                                "",
                                "@Path(\"/Greeting\")",
                                "public class GreetingResource {",
                                "    @GET",
                                "    public String getMessage() {",
                                "        return \"change the return here\";",
                                "    }",
                                "}"
                            ],
                            "readonly": false,
                            "callback": "(function test(aEditor) {testCallBack.setEditor(aEditor) })",
                            "save": false
                        }
                    ]
                },
                {
                    "name": "SaveChanges",
                    "title": "Save Changes",
                    "description": [
                        "Persist the changes into file system by clicking on the Save button.",
                        "The GreetingResource.java is now saved in the RestServicesSample folder."
                    ],
                    "content": [
                        {
                            "displayType": "fileEditor",
                            "fileName": "GreetingResource.java",
                            "preload": [
                                "package com.ibm.websphere.restexamples;",
                                "import javax.ws.rs.GET;",
                                "import javax.ws.rs.Path;",
                                "",
                                "@Path(\"/Greeting\")",
                                "public class GreetingResource {",
                                "    @GET",
                                "    public String getMessage() {",
                                "        return \"change the return here\";",
                                "    }",
                                "}"
                            ],
                            "readonly": "true",
                            "callback": "(function test(aEditor) {testCallBack.refreshFileBrowser(aEditor)})"
                        },
                        {
                            "displayType": "fileBrowser",
                            "fileBrowser": [
                                {
                                    "name": "RestServicesSample",
                                    "type": "directory",
                                    "files": [
                                        {
                                            "name": "readme",
                                            "type": "file"
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                },
                {
                    "name": "CreateApplClass",
                    "title": "Create Application Class",
                    "description": [
                        "Create BankingApplication class to configure the resource and provider of the JAX-RS application. Add the following codes to the end of the source:",
                        "public class BankingApplication extends Application { }"
                    ],
                    "content": [
                        {
                            "displayType": "fileEditor",
                            "fileName": "BankingApplication.java",
                            "preload": [
                                "/* Class to configure the resource and provider of JAX-RS application */",
                                "package com.ibm.websphere.restexamples;",
                                "import javax.ws.rs.ApplicationPath;",
                                "import javax.ws.rs.core.Application;",
                                "",
                                "@ApplicationPath(\"/banking/*\")",
                                ""
                            ],
                            "readonly": [
                                {
                                    "from": "1", 
                                    "to": "1"
                                },
                                {
                                    "from": "3",
                                    "to": "4"
                                }
                            ],
                            "callback": "(function test(aEditor) {testCallBack.refreshFileBrowser(aEditor)})"
                        },
                        {
                            "displayType": "fileBrowser",
                            "fileBrowser": [
                                {
                                    "name": "RestServicesSample",
                                    "type": "directory",
                                    "showImmediately": "true",
                                    "files": [
                                        {
                                            "name": "GreetingResource.java",
                                            "type": "file",
                                            "showImmediately": "true"
                                        },
                                        {
                                            "name": "readme",
                                            "type": "file",
                                            "showImmediately": "true"
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                }
            ]
        },
        {
            "name": "CreateAndStartServer",
            "title": "Create and Start the Liberty Server",
            "description": [
                "Create and start the Liberty server to run the application. Enter the commands below in the command prompt window to create the Liberty server and configure the application:",
                "server create restServer, server start restServer"
            ],
            "content": [
                {
                    "displayType": "commandPrompt",
                    "preload": "Type 'help' to get started.\n"
                }
            ]
        },
        {
            "name": "ViewChanges",
            "title": "View Changes in the browser",
            "description": [
                "View your changes in the browser window by entering",
                "http://localhost:9080/RestServicesSamples/banking/Greeting",
                "as the URL in the web browser."
            ],
            "content": [
                {
                    "displayType": "webBrowser",
                    "url": "http://localhost:9080/RestServicesSamples/banking/Greeting",
                    "browserContent": "HelloWorld.html"
                }
            ]
        },
        {
            "name": "WhatNext",
            "title": "What's Next",
            "description": "Download the source code to build your own Restful Service locally: www.xxx.com"
        }
    ]
}
