{
    "name": "BuildRestfulService",
    "title": "Building a Restful Service Guide",
    "description": "Enable other services to interact with your service",
    "duration": "5 minutes",
    "audience": "developer",
    "steps": [
        {
            "name": "Intro",
            "title": "Introduction",
            "description": "Why should you build a restful service? So other applications can interact with your service.",
            "displayType": "none"
        },
        {
            "name": "ModifyCode",
            "title": "Modify Java code",
            "description": "Modify RestfulService.java",
            "steps": [
                {
                    "name": "ModifyParams",
                    "title": "Modify parameters",
                    "description": "Change the highlighted parameters in the getMyName handler in RestfulService.java",
                    "content": [
                        {
                            "displayType": "fileEditor",
                            "fileName": "MyTest",
                            "preload": "@GET\n@Path(\"/getMyName\")\n@Produces(\"application/json\")\npublic String getMyName() {\n   return first + last\n}",
                            "callback": "(function test(aEditor) {testCallBack.setEditor(aEditor) })"
                        }
                    ]
                },
                {
                    "name": "ValidateChanges",
                    "title": "Validate Changes in the Saved Files",
                    "description": "Validate the changes made to the files.",
                    "content": [
                       {
                         "displayType": "fileEditor",
                         "fileName": "Name.java",
                         "preload": "@GET\n@Path(\"/getMyName\")\n@Produces(\"application/json\")\npublic String getMyName() {\n   return first + last\n}",
                         "callback": "(function test(aEditor) {testCallBack.refreshFileBrowser(aEditor)})"
                       },
                       {
                        "displayType": "fileBrowser",
                        "fileBrowser": [
                          {"name": "file1", "type": "file"},
                          {"name": "file2", "type": "file"},
                          {"name": "dir1", "type": "directory", "files":[
                            {"name": "file3", "type": "file"},
                            {"name": "file4", "type": "file"},
                            {"name": "dir2", "type": "directory", "files": [
                              {"name": "file5", "type": "file"},
                              {"name": "file6", "type": "file"}
                            ]}
                          ]}
                        ]
                      }
                    ]
                },
                {
                    "name": "ViewChanges",
                    "title": "View Changes in the browser",
                    "description": "View your changes in the browser window.",
                    "content": [
                      {
                         "displayType": "webBrowser",
                         "url": "http://loalhost:9443/getMySide",
                         "browserContent": "Example1.html",
                         "callback": "(function test(webBrowser) {testCallBack.setWebBrowserContent(webBrowser); })"
                      },
                      {
                         "displayType": "webBrowser",
                         "url": "http://loalhost:9443/setYourName",
                         "browserContent": "Example2.html"
                      } 
 
                    ]    
                },
                {
                    "name": "SetupLiberty",
                    "title": "Setup Liberty",
                    "description": "Follow the steps to set up Liberty ...",
                    "content": [
                      {
                        "displayType": "commandPrompt",
                        "preload": "Type 'help' to get started.\n"
                      },
                      {
                        "displayType": "fileBrowser",
                        "fileBrowser": [
                          {"name": "file1", "type": "file"},
                          {"name": "file2", "type": "file"},
                          {"name": "dir1", "type": "directory", "files":[
                            {"name": "file3", "type": "file"},
                            {"name": "file4", "type": "file"},
                            {"name": "dir2", "type": "directory", "files": [
                              {"name": "file5", "type": "file"},
                              {"name": "file6", "type": "file"}
                            ]}
                          ]}
                        ]
                      }
                    ]
                },
                {
                    "name": "ModifyCmd",
                    "title": "Create a server",
                    "description": "Create a server ",
                    "content": [
                      {
                        "displayType": "commandPrompt",
                        "callback": "(function test(cPrompt) {testCallBack.setCommandPrompt(cPrompt) })"
                      }
                    ]
                },
                {
                  "name": "ViewCmd",
                  "title": "Run a server",
                  "description": ["Run a server ",
                                  "or click on the button `run server` to populate the command into the terminal"
                                 ],
                  "content": [
                    {
                      "displayType": "commandPrompt"
                    }
                  ]
                },
                {
                  "name": "ModifyEditor",
                  "title": "Modify editor",
                  "description": ["Change the highlighted parameters in the getMyName handler in RestfulService.java",
                                  "or click on the button `insert code` for @Fallback to insert the code into the editor"
                                 ],
                  "content": [
                      {
                          "displayType": "fileEditor",
                          "preload": "@CircuitBreaker(successThreshold=10,requestVolumeThreshold=4,failureRatio=0.50,delay=1000)\npublic Connection serviceWithdrawMoney() { \n   Connection conn = null;\n   counterForInvokingWithdrawMoney++;\n   conn = connectionService();\n   return conn;\n}"
                      }
                  ]
                }
            ]
        },
        {
            "name": "WhatNext",
            "title": "What's Next",
            "description": "Download the source code to build your own Restful Service locally: www.xxx.com"
        }
    ]
}
